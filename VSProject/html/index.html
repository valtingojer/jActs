<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Development Tests</title>
    <script src="../Dist/jActs.js"></script>
</head>
<style></style>

<body style="display: grid; place-items: center; place-content: center;">

    <SceneObjects style="display:none">
        <div id="bullet" class="roundEl layer-bullet"></div>
    </SceneObjects>

    <InfoPannel class="fps-display">
        <div class="inner-display" style="top: 0px"><h1>Seconds: <span id="label_secondcount"></span></h1></div>
        <div class="inner-display" style="top: 45px"><h1>FPS: <span id="label_fps"></span></h1></div>
        <div class="inner-display" style="top: 90px"><h1>Delta Time: <span id="label_deltatime"></span></h1></div>
        <div class="inner-display" style="top: 90px"><h1>pos x y: <span id="label_posxy"></span></h1></div>
    </InfoPannel>

    <MessageCanvas style="position: fixed; display:flex; width: 50vw; height: 50vw; place-items: center; place-content: center;">
        <div id="keydown" style="font-size: 32px"></div>
    </MessageCanvas>



    <square id="moveLoop" class="layer-wall my-simple-asteroid" style="position: relative"></square><br />
    <square id="move2" class="el_30x30 layer-wall" style="left: 200px"></square><br />
    <square class="el_30x30 layer-palyer" style="background-color: darkblue"></square><br />
    <square class="el_30x30 layer-palyer" style="background-color: cyan"></square><br />

    <gameobjects>
        <div id="player" class='my-red-spaceship-holder'>
            <div class='spaceship-content'>
                <div class='wings left'>
                    <div class="inner"><div class="inner blue"></div></div>
                </div>
                <div class='ship-body'>
                    <div class='exhaust-holder mini'>
                        <div class='flame red mini'></div>
                        <div class="flame orange mini"></div>
                        <div class="flame yellow mini"></div>
                        <div class="flame white mini"></div>
                        <div class="circle blue mini"></div>
                        <div class="circle darkred mini"></div>
                    </div>
                </div>
                <div class='ship-body ship-layer2'>
                    <div class="ship-upperbody">
                        <div class="ship-cabin"></div>
                        <div class="ship-arrow" style="padding: 15%; bottom: 24%"></div>
                        <div class="ship-arrow" style="bottom: 10%"></div>
                    </div>
                </div>
                <div class='wings right'>
                    <div class="inner"><div class="inner blue"></div></div>
                </div>
            </div>
        </div>


    </gameobjects>


</body>
</html>
<style>
</style>
<script>

</script>

<script>
    
    _jaAfterLoad(
        function () {


        }
    );
    
    var delay = 0;
    _jaUpdate(function () {

        _ja('#label_posxy').innerText = _ja('#player')._jaPosition();

        let firstLayerArray = _ja('.layer-wall');
        let secondLayerArray = _ja('.layer-bullet');
        


        for (var i = 0; i < firstLayerArray.length; i++) {
            for (var j = 0; j < secondLayerArray.length; j++) {
                let firstPos = firstLayerArray[i]._jaPosition('vector');
                let secoPos = secondLayerArray[j]._jaPosition('vector');
                
                /*detectar colisão em x*/
                if (firstPos[1] >= secoPos[0] && firstPos[0] <= secoPos[1]) {
                    if (firstPos[3] >= secoPos[2] && firstPos[2] <= secoPos[3]) {
                        console.log('colidindo', firstLayerArray[i].id, secondLayerArray[j].id);
                        secondLayerArray[j].remove();
                    }
                }

            }
        }
        
    });



</script>